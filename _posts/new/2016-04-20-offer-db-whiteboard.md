---

layout: post
title: interview-db
category: 资源
tags: db,interview
description: 数据库面试所需

---

### 1.范式

- 第一范式（1NF）字段具有**原子性**不可再分。

- 第二范式（2NF）在1NF的基础上，数据库表中的每个实例或行必须可以被**唯一地区分**，拥有唯一属性列（主关键字或**主键**），每一行都能区分 。 2NF要求实体的属性**完全依赖**于主关键字。

- 第三范式（3NF）必须先满足第二范式2NF，3NF要求一个数据库表中**不包含**已在其它表中已包含的非主关键字信息。否则造成**数据冗余**。

### 2.ACID
数据库事务正确执行的四个基本要素：
[acid-database](http://www.jdon.com/concurrent/acid-database.html)

- Atomic，**原子性**: 一个事务的所有系列操作步骤被看成是一个动作，所有的步骤要么全部完成要么一个也不会完成，如果事务过程中任何一点失败，将要被改变的数据库记录就不会被真正被改变。
 
- Consistent，**一致性**: 在事务开始之前和事务结束以后，数据库的完整性约束没有被破坏。数据库的约束级联和触发机制Trigger都必须满足事务的一致性。也就是说，通过各种途径包括外键约束等任何写入数据库的数据都是有效的，不能发生表与表之间存在外键约束，但是有数据却违背这种约束性。所有改变数据库数据的动作事务必须完成，没有事务会创建一个无效数据状态，这是不同于CAP理论的一致性"consistency"。

- Isolated，**隔离性**: 主要用于实现并发控制, 隔离能够确保并发执行的事务能够顺序一个接一个执行，通过隔离，一个未完成事务不会影响另外一个未完成事务。串行化，防止事务操作间的混淆，**同一时间仅有一个请求用于同一数据**。
- Durable，**持久性**: 一旦一个事务被提交，它应该持久保存，不会因为和其他操作冲突而取消这个事务。很多人认为这意味着事务是持久在磁盘上，但是规范没有特别定义这点。

实现ACID：（1）Write ahead logging（2）Shadow paging

### 3.CAP

- C:Consistency **一致性**,更新操作成功并返回客户端完成后,分布式的所有节点在同一时间的数据完全一致
- A: Availability **可用性**,所有在分布式系统活跃的节点都能够处理操作且能响应查询，读和写操作都能成功 
- P: Partition Tolerance **分区容错性**，再出现网络故障导致分布式节点间不能通信时，系统能否继续服务。


### 4.内连接和外连接

- 内连接：（inner join）自然连接，只有两个表相匹配的行才能在结果集中出现，返回结果集中所有相匹配的数据。

- 外连接，还包含不匹配的行，左外连接（left outer join）、右外连接（right outer join）

